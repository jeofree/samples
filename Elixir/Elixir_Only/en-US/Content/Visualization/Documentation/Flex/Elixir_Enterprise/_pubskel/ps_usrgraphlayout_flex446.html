
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><title>For experts: special options of the Short LL</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="doc.css"/></head><body><div class="General"><div class="breadcrumbs"><span class="breadcrumb"><a href="ps_elixir_enterprise.html" class="breadcrumb">IBM <span class="classificationVariable">ILOG Elixir Enterprise</span> V3.0 3.0</a></span><span class="separator">&#160;&gt;&#160;</span><span class="breadcrumb"><a href="ps_usrgraphlayout_flex351.html" class="breadcrumb">Using graph layout algorithms</a></span><span class="separator">&#160;&gt;&#160;</span><span class="breadcrumb"><a href="ps_usrgraphlayout_flex360.html" class="breadcrumb">Layout algorithms</a></span><span class="separator">&#160;&gt;&#160;</span><span class="breadcrumb"><a href="ps_usrgraphlayout_flex437.html" class="breadcrumb">Link layout (LL)</a></span><span class="separator">&#160;&gt;&#160;</span><span class="breadcrumb"><a href="ps_usrgraphlayout_flex446.html" class="breadcrumb">For experts: special options of the Short LL</a></span></div><div class="header"><div class="content"><div class="navigation"><a href="manualIX.html" class="navigation" accesskey="I"><span class="index">INDEX</span></a><span class="separator">&#160;|&#160;</span><a href="ps_usrgraphlayout_flex445.html" class="navigation" accesskey="P"><span class="previous">PREVIOUS</span></a><span class="separator">&#160;&#160;</span><a href="ps_usrgraphlayout_flex447.html" class="navigation" accesskey="N"><span class="next">NEXT</span></a></div><h1 class="heading">For experts: special options of the Short LL</h1></div></div><div class="content">




<div class="descriptiveTopicContent">
<div class="para">The Link Layout algorithm utilizes the class  <span class="apilink"><a href="../../../../../../../../../../jviews-diagrammer87/doc/html/en-US/refjava/html/ilog/views/graphlayout/link/shortlink/IlvShortLinkLayout.html" class="bluelink">IlvShortLinkLayout</a></span> as a subalgorithm. <code class="code">IlvShortLinkLayout</code> is a subclass of <code class="code">IlvGraphLayout</code> and can
be used a stand-alone as well. To access the instance of <code class="code">IlvShortLinkLayout</code> that is used by the Link Layout
algorithm, call: </div>
<pre class="programlisting">
IlvShortLinkLayout getShortLinkLayout();    
</pre>
<div class="para">Using this accessor, you can control many special features
of the Short Link Layout that are not made available by the <code class="code">IlvLinkLayout</code> class because these features are for
experts only.  </div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1043769">
<h2 class="heading">Self-link style</h2>



<div class="sectionContent">
<div class="para">Self-links are links whose origin and destination is
the same node. The Short Link Layout provides two optional shapes
for self-links.  </div>
<div class="figure" id="usrgraphlayout.uss_graphlay_layouts.1048534"><div class="mediaobject"><img src="../../../GraphLayout/_media/link-twobendself103_default.gif" alt="Graph&#xA;showing first the two-bend self-link style and then the three-bend&#xA;self-link style" class="imagedata"/></div><div class="caption">Self-link style options</div></div>
<div class="example">
<div class="title">Example of setting the style of the self-links (Link
Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To set the style of the self-links: </div>
</div>


</div>
<div class="para">The valid values for <code class="code">style</code> are:  </div>
<div class="itemizedlist"><ul class="itemizedlist"><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.TWO_BENDS_ORTHOGONAL_STYLE</code>  </div></li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.THREE_BENDS_ORTHOGONAL_STYLE</code>  </div></li></ul></div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1043792">
<h2 class="heading">Number of optimization iterations</h2>



<div class="sectionContent">
<div class="para">The link shape optimization is stopped if the time exceeds
the allowed time (see <a href="ps_usrgraphlayout_flex441.html#usrgraphlayout.uss_graphlay_layouts.1029028" class="bluelink">Allowed time (LL)</a>) or if the
number of iterations exceeds the allowed number of iterations. </div>
<div class="example">
<div class="title">Example of specifying the number of optimization iterations
(Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To set the allowed number of iterations to 3:  </div>
</div>


</div>
<div class="note"><div class="noteLabel">Note</div>
<div class="para">You may want to disable the link shape optimization by
setting the number of iterations to zero to increase the speed of
the layout process.  </div>
</div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1201750">
<h2 class="heading">Evenly spaced pins margin ratio</h2>


<div class="sectionContent">
<div class="para">The margin ratio allows you to customize the way connection
points are computed when the connector style (see <a href="ps_usrgraphlayout_flex443.html#usrgraphlayout.uss_graphlay_layouts.1201638" class="bluelink">Connector style</a>) is <code class="code">EVENLY_SPACED_PINS</code>, and when the <code class="code">AUTOMATIC_STYLE</code> places the connection points using the <code class="code">EVENLY_SPACED_PINS</code> style. This option has no effect if the connector style <code class="code">FIXED_OFFSET_PINS</code> is used. </div>
<div class="para">In the <span class="quote">“evenly spaced pins”</span> connector style, the connection points of the links are evenly spaced
along the node border, preserving a margin to each extremity of the
node border. The size of this margin is controlled by the margin ratio
and is computed by multiplying the offset between the links by the
ratio. </div>
<div class="example">
<div class="title">Example of specifying margin ratio (Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To specify this option </div>
</div>


</div>
<div class="para">The input value must be a positive or zero value. The
default value is <code class="code">0.5</code>. <a href="ps_usrgraphlayout_flex446.html#usrgraphlayout.uss_graphlay_layouts.1202004" class="bluelink">Evenly Spaced Pins Margin Ratio</a> shows examples
of values with their meaning. </div>
<div class="caption">Evenly Spaced Pins Margin Ratio</div><table border="1" cellpadding="4" cellspacing="0" class="ShadedHead" id="usrgraphlayout.uss_graphlay_layouts.1202004"><thead>
<tr align="left" bgcolor="#bfd6e7" valign="top">
<th rowspan="1" colspan="1"><div class="para">Ratio value </div></th>
<th rowspan="1" colspan="1"><div class="para">Meaning </div></th>
</tr>
</thead><tbody>
<tr valign="top">
<td rowspan="1" colspan="1"><div class="para">0 </div></td>
<td rowspan="1" colspan="1"><div class="para">No margin </div></td>
</tr>
<tr valign="top">
<td rowspan="1" colspan="1"><div class="para">0.5 (default value) </div></td>
<td rowspan="1" colspan="1"><div class="para">The margin is equal to half the offset between
the links. </div></td>
</tr>
<tr valign="top">
<td rowspan="1" colspan="1"><div class="para">1 </div></td>
<td rowspan="1" colspan="1"><div class="para">The margin is equal to the offset between
the links. </div></td>
</tr>
<tr valign="top">
<td rowspan="1" colspan="1"><div class="para">2 </div></td>
<td rowspan="1" colspan="1"><div class="para">The margin is equal to twice the offset between
the links. </div></td>
</tr>
</tbody></table>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1201764">
<h2 class="heading">Link overlap nodes forbidden</h2>

<div class="sectionContent">
<div class="para">This option allows you to ask the layout algorithm to
avoid strictly to reshape links such that they overlap some nodes.
If overlaps are not forbidden, the algorithm tries to avoid overlaps
anyway, but may create overlaps, for instance for the link to cross
other links.  </div>
<div class="note"><div class="noteLabel">Note</div>
<div class="para">Forbidding overlaps may slow down the layout and may
increase the number of bends for those links that would overlap nodes
if overlaps were not strictly forbidden.  </div>
</div>
<div class="example">
<div class="title">Example of specifying link overlap nodes forbidden (Link
Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To specify this option: </div>
</div>


</div>
<div class="para">The default value of this option is <code class="code">false</code>.  </div>
<div class="para">When overlaps are forbidden, the Short Link Layout algorithm
uses the Long Link Layout as an auxiliary algorithm for laying out
only the links that would otherwise overlap nodes. </div>
<div class="example">
<div class="title">Example of specifying Long Link Layout when overlaps
forbidden (Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To retrieve the auxiliary instance of Long Link Layout: </div>
</div>


</div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1206346">
<h2 class="heading">Incremental link reshape mode</h2>






<div class="sectionContent">
<div class="para">In incremental mode, it is possible to customize the
rules used by the Short Link Layout to determine which links should
keep their current shape as much as possible, as computed by the previous
layout execution. The incremental link reshape mode allows you to
customize these rules separately for two categories of links. See
the methods: </div>
<pre class="programlisting">
IlvShortLinkLayout.getLinkConnectionBoxInterface()  
</pre>
<div class="para">and  </div>
<pre class="programlisting">
IlvShortLinkLayout.getNodeBoxInterface()
</pre>
<div class="itemizedlist"><ul class="itemizedlist"><li class="itemizedlistItem"><div class="para">The <span class="quote">“modified links”</span>: the links that have either a different <span class="quote">“link connection
box”</span> or are connected to nodes which have a different
bounding box as during the previous layout execution.  </div>
</li><li class="itemizedlistItem"><div class="para">The <span class="quote">“unmodified links”</span>: the links that have the same <span class="quote">“link connection box”</span> and are connected to nodes which have the same bounding box as during
the previous layout execution. </div></li></ul></div>
<div class="para">The mode can be customized either for both or for only
one of these categories of links. </div>
<div class="para">The incremental link reshape mode has no effect if the
incremental mode is disabled. </div>
<div class="para">The layout algorithm provides two incremental link reshape
modes. You can set the mode globally, in which case all the links
have the same mode, or locally on each link, in which case different
modes occur in the same drawing. </div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1201787">
<h3 class="heading">Global incremental link reshape mode</h3>




<div class="sectionContent">
<div class="example">
<div class="title">Example of specifying global incremental link reshape
mode (Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To specify the global incremental link reshape mode: </div>
</div>


</div>
<div class="para">The valid values for <code class="code">mode</code> are:
 </div>
<div class="itemizedlist"><ul class="itemizedlist"><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_SHAPE_TYPE_MODE</code> (the default) </div><div class="para">The incremental layout
preserves the shape type of the link. This means that both the number
of bends and the node sides to which the link is connected are preserved. </div>
</li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_NODE_SIDES_MODE</code> </div><div class="para">The incremental layout preserves the
node sides to which the links are connected. </div>
</li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_CONNECTION_POINTS_MODE</code> </div><div class="para">The incremental layout preserves the
connection points of the links.  </div>
</li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_MODE</code> </div><div class="para">The links are not reshaped at all during
incremental layout. Only newly added links are rerouted.  </div>
</li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FREE_MODE</code> </div><div class="para">The incremental layout is allowed to
freely reshape the links. This is equivalent to a non-incremental
behavior for all the links, hence it is recommended to disable the
incremental mode instead of using <code class="code">FREE_MODE</code> as global incremental reshape mode.  </div>
<div class="para">Of course, the settings that may have been done by “fixing”
links (see <a href="ps_usrgraphlayout_flex441.html#usrgraphlayout.uss_graphlay_layouts.1165602" class="bluelink">Preserve fixed links (LL)</a>) or by customizing
the origin or destination point mode (see <a href="ps_usrgraphlayout_flex442.html#usrgraphlayout.uss_graphlay_layouts.1276301" class="bluelink">End points mode (LL)</a>) are still
respected.  </div>
</li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.MIXED_MODE</code>  </div><div class="para">Each link can have a different mode. </div>
</li></ul></div>

</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1201830">
<h3 class="heading">Individual incremental link reshape mode</h3>








<div class="sectionContent">
<div class="para">All links have the same incremental link reshape mode
unless the global incremental link reshape mode is <code class="code">IlvShortLinkLayout.MIXED_MODE</code>. Only when the global mode is set to <code class="code">MIXED_MODE</code> can each link have an individual mode. </div>
<div class="example">
<div class="title">Example of specifying individual incremental link reshape
mode (Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To specify the mode of an individual link:  </div>
</div>


</div>
<div class="para">The valid values for <code class="code">mode</code> are: </div>
<div class="itemizedlist"><ul class="itemizedlist"><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_SHAPE_TYPE_MODE</code> (the default) </div></li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_NODE_SIDES_MODE</code> </div></li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_CONNECTION_POINTS_MODE</code> </div></li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FREE_MODE</code> </div></li><li class="itemizedlistItem"><div class="para"><code class="code">IlvShortLinkLayout.FIXED_MODE</code> </div></li></ul></div>
</div>
</div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1201744">
<h2 class="heading">Same shape for multiple links</h2>



<div class="sectionContent">
<div class="para">You can force the layout algorithm to compute the same
shape for all the links having common origin and destination nodes.
The links will have parallel shapes.  </div>
<div class="para">When this option is disabled, the layout is free to compute
different shapes for links connecting the same pair of nodes. Generally,
different shapes are chosen to avoid some overlaps. </div>
<div class="figure" id="usrgraphlayout.uss_graphlay_layouts.1126478"><div class="mediaobject"><img src="../../../GraphLayout/_media/layout-Short-SameShapeMultipleLinks-combined104_default.gif" alt="Two interconnected&#xA;nodes first with the same-shape option disabled and then with the&#xA;same-shape option enabled" class="imagedata"/></div><div class="caption">Self-link style options</div></div>
<div class="example">
<div class="title">Example of specifying same shape for multiple links
(Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To enable same shape for multiple links: </div>
</div>


</div>
<div class="para">The default value is <code class="code">false</code>. </div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1043816">
<h2 class="heading">Link crossing penalty</h2>



<div class="sectionContent">
<div class="para">The computation of the shape of the links is driven by
the objective to minimize a cost function, which is proportional to
the number of link-to-link crossings and link-to-node crossings. By
default, these two types of crossings have equal weights of <code class="code">1</code>. You can increase the weight of the link-to-node
crossings. </div>
<div class="example">
<div class="title">Example of specifying link-to-node crossing penalty
(Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To increase the weight of the link-to-node crossings: </div>
</div>


</div>
<div class="para">This increases the possibility of obtaining a layout
with no link-to-node crossings (or with only a few crossings), with
the expense that there may be more link-to-link crossings.  </div>
<div class="para">Alternatively, you can increase the weight of the link-to-link
crossings.</div>
<div class="example">
<div class="title">Example of specifying link-to-link crossing penalty
(Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">To increase the weight of the link-to-link crossings,for
instance, to a value of <code class="code">3</code>s: </div>
</div>


</div>
<div class="para">This increases the possibility of obtaining a layout
with no link-to-link crossings (or with only a few crossings), with
the expense that there may be more link-to-node crossings. </div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1165789">
<h2 class="heading">Bypass distance</h2>



<div class="sectionContent">
<div class="para">If the origin and destination nodes are too close, there
may not be enough space for routing the link directly between the
end nodes. Therefore, by default, if the end nodes are closer than
a threshold distance, the layout chooses link shapes that bypass the
interval between close nodes. (See <a href="ps_usrgraphlayout_flex446.html#usrgraphlayout.uss_graphlay_layouts.1165842" class="bluelink">End nodes and bypass distance</a>.)  </div>
<div class="figure" id="usrgraphlayout.uss_graphlay_layouts.1165842"><div class="mediaobject"><img src="../../../GraphLayout/_media/layout-Link-bypassdist105_default.gif" alt="Two interconnected&#xA;nodes first more distant than the bypass distance and then closer&#xA;than the bypass distance" class="imagedata"/></div><div class="caption">End nodes and bypass distance</div></div>
<div class="para">The bypass distance is the minimum distance between the
origin and destination nodes for which a link shape going directly
from one node to another is allowed. The algorithm tries to avoid
link shapes that connect directly the sides of the end nodes that
are closer than the bypass value.  </div>
<div class="example">
<div class="title">Example of specifying the bypass distance (Link Layout
algorithm)</div>
<div class="exampleContent">
<div class="para">To set the bypass distance: </div>
</div>


</div>
<div class="para">The default value is a strictly negative value. If the
bypass distance is strictly negative, the value of the minimum final
segment length (see <a href="ps_usrgraphlayout_flex444.html#usrgraphlayout.uss_graphlay_layouts.1043567" class="bluelink">Minimum final segment length</a>) parameter
is used as the bypass distance. This allows the automatic adjustment
of the bypass distance according to the current value of the minimum
final segment length. This behavior is suitable in most cases. However,
you can specify a non-negative value to override the default behavior.
 </div>
</div>
</div>
<div class="section" id="usrgraphlayout.uss_graphlay_layouts.1165786">
<h2 class="heading">Using a link connection box interface</h2>







<div class="sectionContent">
<div class="para">By default, the connection points of the links are distributed
on the border of the bounding box of the nodes, symmetrically with
respect to the middle of each side. Sometimes, it may be necessary
to place the connection points on a rectangle smaller or larger than
the bounding box, eventually in a nonsymmetric way. For instance,
this can happen when labels are displayed below or above nodes.  </div>
<div class="example">
<div class="title">Example of using a link connection box interface to
modify the position of the connection points (Link Layout algorithm)</div>
<div class="exampleContent">
<div class="para">You can modify the position of the connection points
of the links by implementing a class that implements the  <span class="apilink"><a href="../../../../../../../../../../jviews-diagrammer87/doc/html/en-US/refjava/html/ilog/views/graphlayout/IlvLinkConnectionBoxInterface.html" class="bluelink">IlvLinkConnectionBoxInterface</a></span>. </div>
</div>


</div>
<div class="para"><a href="ps_usrgraphlayout_flex446.html#usrgraphlayout.uss_graphlay_layouts.1048534" class="bluelink">Self-link style options</a> shows the
effects of customizing the connection box. On the left is the result
using the default settings: the connection points are distributed
on the bounding box of the node (which includes the label) and are
symmetric with the middle of each node side (including the label).
On the right, is the result after specifying a link connection box
interface. On the bottom side of the nodes, the links are now connected
to the node (passing over the label), while on the left and right
side the nodes are now symmetric to the middle of the node (without
the label). </div>
<div class="figure" id="usrgraphlayout.uss_graphlay_layouts.1043870"><div class="mediaobject"><img src="../../../GraphLayout/_media/link-linkboxconnection106_default.gif" alt="A graph&#xA;with the default link connection box and then a customized link connection&#xA;box" class="imagedata"/></div><div class="caption">Customization of the link connection box</div></div>
</div>
</div>
</div>
<div class="relatedLinks"><div class="relatedLinksLabel">Current section</div><ul class="relatedLinks"><li><a href="ps_usrgraphlayout_flex437.html" class="bluelink">Link layout (LL)</a></li></ul></div></div><div class="footer"><div class="content"><div class="navigation"><a href="ps_usrgraphlayout_flex445.html" class="navigation"><span class="previous">PREVIOUS</span></a><span class="separator">&#160;&#160;</span><a href="ps_usrgraphlayout_flex447.html" class="navigation"><span class="next">NEXT</span></a></div><div class="copyright">&#169; Copyright IBM Corp. 1987, 2009. <a href="ps_usrgraphlayout_flex352.html" class="navigation"><span class="legalterms">Legal Terms</span></a></div></div></div></div></body></html>